#:kivy 1.8
#:import kivy kivy

<MapScreen>:
	canvas:
		Color:
			rgba: 1, 0.96, 0.85, 1
		Rectangle:
			pos: root.pos
			size: root.size

	FloatLayout:
		Scatter:
			id: scatter

			size: root.size

			DynImage:
				id: map

				source: "Images/map.png"
				pos: scatter.pos
				size: root.size
				keep_ratio: False
				allow_stretch: True
				on_press: root.click()

			Image:
				id: room

				pos: scatter.pos
				size: root.size
				keep_ratio: False
				allow_stretch: True
				opacity: 0

			DialogWidget:
				id: dialog

				size: (root.size[0], root.size[1] * 0.2)
				pos: (root.pos[0], root.pos[1] - dialog.size[1])
				visible: False

			BoxLayout:
				id: roomLabelContainer
				canvas:
					Color:
						rgba: 0.16, 0.22, 0.33, 0.85
					Rectangle:
						pos: self.pos
						size: self.size

				pos: (scatter.pos[0], scatter.size[1] - self.size[1])
				size: ("400dp", "75dp")
				orientation: 'vertical'
				opacity: 0

				Label:
					id: roomLabel
					color: 1, 1, 1, 1
					font_size: "20sp"